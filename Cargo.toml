[workspace]
resolver = "2"
default-members = ["rust-tdshim", "td-payload"]
members = [
    "devtools/td-layout-config",
    "devtools/td-benchmark",
    "devtools/test-runner-server",
    "devtools/test-runner-client",
    "rust-tdshim",
    "fuzzing/fuzz_pe_loader",
    "fuzzing/fuzz_elf_loader",
    "fuzzing/fuzz_fv_parser",
    "fuzzing/fuzz_hob_parser",
    "rust-tdpayload-signing",
    "td-layout",
    "td-paging",
    "td-payload",
    "td-shim-enroll-key",
    "td-shim-ld",
    "tests/test-td-paging",
    "tests/test-td-payload",
]

# the profile used for `cargo build`
[profile.dev]
panic = "abort" # disable stack unwinding on panic

# the profile used for `cargo build --release`
[profile.release]
panic = "abort"    # disable stack unwinding on panic
lto = true         # Link-time optimization
