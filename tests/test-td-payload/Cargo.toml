[package]
name = "test-td-payload"
version = "0.1.0"
description = "Run TDX hardware specific unit test cases inside a VM"
repository = "https://github.com/confidential-containers/td-shim"
homepage = "https://github.com/confidential-containers"
license = "BSD-2-Clause-Patent"
edition = "2018"

[features]
tdx = []

[dependencies]
# Keep it as `dependencies` to satisfy bootloader-locator's requirement, though it should be `dev-dependencies`
bootloader = "=0.10.9"

[dev-dependencies]
lazy_static = {version = "1.4.0", features = ["spin_no_std"] }
log = "0.4.13"
td-payload = { path = "../../td-payload" }
tdx-tdcall = { path = "../../tdx-tdcall" }
test-runner-client = { path = "../../devtools/test-runner-client" }

[package.metadata.bootloader]
map-physical-memory = true
map-page-table-recursively = true
